<div
  class="flex items-center w-full min-w-0 gap-2"
>
  <avatar
    [src]="author().avatar"
    (click)="$event.stopPropagation(); dialogService.openAuthor(author())"
    class="h-12 w-12 shrink-0 cursor-pointer"
  />

  <div
    class="flex flex-col flex-1 min-w-0 justify-center"
  >
    <div
      class="flex max-w-full items-center h-5 gap-2"
    >
      <span
        (click)="$event.stopPropagation(); dialogService.openAuthor(author())"
        class="text-lg font-bold [text-box:trim-both_cap_alphabetic] h-fit w-fit min-w-0 overflow-y-visible overflow-x-clip overflow-ellipsis whitespace-nowrap cursor-pointer hover:underline"
      >{{author() | displayName}}</span>

      @if (author().viewer?.followedBy) {
        <span
          class="text-sm font-bold [text-box:trim-both_cap_alphabetic] flex h-5 w-fit px-1 shrink-0 bg-primary text-bg "
        >follows you</span>
      }
    </div>

    @if (author().displayName?.trim().length) {
      <span
        (click)="$event.stopPropagation(); dialogService.openAuthor(author())"
        class="text-sm text-primary/50 [text-box:trim-both_cap_alphabetic] flex items-baseline h-5 w-fit min-w-0 overflow-y-visible overflow-x-clip whitespace-nowrap text-ellipsis cursor-pointer hover:underline"
      >{{'@' + author().handle}}</span>
    }
  </div>

  <button-follow
    [author]="author()"
    compact
  />
</div>
